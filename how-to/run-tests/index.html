<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://quartumse.github.io/quartumse/how-to/run-tests/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Run QuartumSE Tests - QuartumSE</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Run QuartumSE Tests";
        var mkdocs_page_input_path = "how-to/run-tests.md";
        var mkdocs_page_url = "/quartumse/how-to/run-tests/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> QuartumSE
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorials</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorials/quickstart/">Quickstart</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tutorials/hardware_quickstart/">Hardware Quickstart</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">How-to</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../run-st01-ghz/">Run S-T01 GHZ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../run-mem-v1/">Run MEM (v1)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../replay-from-manifest/">Replay from Manifest</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../generate-report/">Generate Report</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/api/">API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/cli/">CLI</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../reference/observable-notation/">Observable Notation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Explanation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../explanation/architecture/">Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../explanation/manifest-schema/">Manifest Schema</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../explanation/shadows-theory/">Shadows Theory</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Operations</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ops/runtime_runbook/">IBM Runtime Runbook</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Strategy</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/project_bible/">Project Bible</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/roadmap/">Roadmap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategy/phase1_task_checklist/">Phase 1 Checklist</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">QuartumSE</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Run QuartumSE Tests</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/QuartumSE/quartumse/edit/master/docs/how-to/run-tests.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="run-quartumse-tests">Run QuartumSE Tests<a class="headerlink" href="#run-quartumse-tests" title="Permanent link">&para;</a></h1>
<p>This guide explains how to exercise the automated test suites, when to run
hardware checks, and which notebooks provide manual validation coverage.  It
replaces the older <code>TESTING_GUIDE.md</code> marketing summary with a concise workflow
reference.</p>
<h2 id="test-matrix-overview">Test matrix overview<a class="headerlink" href="#test-matrix-overview" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Marker(s)</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unit</td>
<td><em>(default)</em></td>
<td>Fast logic tests for shadows, manifests, and utilities</td>
</tr>
<tr>
<td>Integration</td>
<td><code>integration</code></td>
<td>Exercising estimator + storage pipelines on simulators</td>
</tr>
<tr>
<td>Slow</td>
<td><code>slow</code></td>
<td>Longer-running variance/CI checks</td>
</tr>
<tr>
<td>Hardware</td>
<td><code>hardware</code></td>
<td>Requires IBM Quantum credentials and quota</td>
</tr>
</tbody>
</table>
<p>Tests use <code>pytest</code> markers so you can opt into the heavier scenarios as needed.</p>
<h2 id="running-the-suites">Running the suites<a class="headerlink" href="#running-the-suites" title="Permanent link">&para;</a></h2>
<p><strong>Unix/macOS:</strong>
<div class="highlight"><pre><span></span><code><span class="c1"># Core unit tests (quick feedback)</span>
pytest<span class="w"> </span>tests/unit<span class="w"> </span>-v

<span class="c1"># Fast integration matrix (skip slow + hardware markers)</span>
pytest<span class="w"> </span>tests<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;not slow and not hardware&quot;</span><span class="w"> </span>-v

<span class="c1"># Include slow scenarios (still skip hardware)</span>
pytest<span class="w"> </span>tests<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;not hardware&quot;</span><span class="w"> </span>-v<span class="w"> </span>--durations<span class="o">=</span><span class="m">20</span>

<span class="c1"># Hardware runs (requires QISKIT_IBM_TOKEN, see ../ops/runtime_runbook.md)</span>
pytest<span class="w"> </span>tests<span class="w"> </span>-m<span class="w"> </span>hardware<span class="w"> </span>-v
</code></pre></div></p>
<p><strong>Windows:</strong>
<div class="highlight"><pre><span></span><code><span class="c"># Core unit tests (quick feedback)</span>
<span class="n">pytest</span> <span class="n">tests</span><span class="p">/</span><span class="n">unit</span> <span class="n">-v</span>

<span class="c"># Fast integration matrix (skip slow + hardware markers)</span>
<span class="n">pytest</span> <span class="n">tests</span> <span class="n">-m</span> <span class="s2">&quot;not slow and not hardware&quot;</span> <span class="n">-v</span>

<span class="c"># Include slow scenarios (still skip hardware)</span>
<span class="n">pytest</span> <span class="n">tests</span> <span class="n">-m</span> <span class="s2">&quot;not hardware&quot;</span> <span class="n">-v</span> <span class="p">-</span><span class="n">-durations</span><span class="p">=</span><span class="n">20</span>

<span class="c"># Hardware runs (requires QISKIT_IBM_TOKEN, see ../ops/runtime_runbook.md)</span>
<span class="n">pytest</span> <span class="n">tests</span> <span class="n">-m</span> <span class="n">hardware</span> <span class="n">-v</span>
</code></pre></div></p>
<p>Enable coverage reporting (mirrors the CI configuration) when preparing releases:</p>
<p><strong>Unix/macOS:</strong>
<div class="highlight"><pre><span></span><code>pytest<span class="w"> </span>--cov<span class="w"> </span>--cov-report<span class="o">=</span>term-missing<span class="w"> </span>--cov-report<span class="o">=</span>xml<span class="w"> </span>--cov-report<span class="o">=</span>html
</code></pre></div></p>
<p><strong>Windows:</strong>
<div class="highlight"><pre><span></span><code><span class="n">pytest</span> <span class="p">-</span><span class="n">-cov</span> <span class="p">-</span><span class="n">-cov-report</span><span class="p">=</span><span class="n">term-missing</span> <span class="p">-</span><span class="n">-cov-report</span><span class="p">=</span><span class="n">xml</span> <span class="p">-</span><span class="n">-cov-report</span><span class="p">=</span><span class="n">html</span>
</code></pre></div></p>
<p>This writes <code>coverage.xml</code> for Codecov uploads and an <code>htmlcov/</code> directory for
annotated source review.</p>
<h2 id="manual-validation-notebooks">Manual validation notebooks<a class="headerlink" href="#manual-validation-notebooks" title="Permanent link">&para;</a></h2>
<p>Three curated notebooks cover the major user journeys:</p>
<ul>
<li><code>notebooks/quickstart_shot_persistence.ipynb</code> – GHZ classical shadows demo
  with manifest + Parquet replay.</li>
<li><code>notebooks/noise_aware_shadows_demo.ipynb</code> – MEM-enhanced (v1) workflow and
  confusion-matrix diagnostics.</li>
<li><code>notebooks/comprehensive_test_suite.ipynb</code> – End-to-end path combining CLI,
  replay, and reporting.</li>
</ul>
<p>The notebooks folder now contains only the actively maintained tutorials so new
users can focus on the recommended path. Historical experiments have been
retired from version control to keep the repo lightweight.</p>
<h2 id="experiment-scripts">Experiment scripts<a class="headerlink" href="#experiment-scripts" title="Permanent link">&para;</a></h2>
<p>The active experiment scripts are under <code>experiments/shadows/</code> and
<code>experiments/validation/</code>.  Legacy scaffolds were removed during the repo
cleanup, so everything under <code>experiments/</code> is production-supported. The S‑T01
GHZ baseline remains the canonical CLI example:</p>
<p><strong>Unix/macOS:</strong>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>experiments/shadows/S_T01_ghz_baseline.py<span class="w"> </span>--backend<span class="w"> </span>aer_simulator
</code></pre></div></p>
<p><strong>Windows:</strong>
<div class="highlight"><pre><span></span><code><span class="n">python</span> <span class="n">experiments</span><span class="p">/</span><span class="n">shadows</span><span class="p">/</span><span class="n">S_T01_ghz_baseline</span><span class="p">.</span><span class="n">py</span> <span class="p">-</span><span class="n">-backend</span> <span class="n">aer_simulator</span>
</code></pre></div></p>
<p>Pass <code>--backend ibm:&lt;device&gt;</code> to exercise the IBM Runtime integration.  Hardware
runs automatically persist manifests and shot data under <code>data/</code>.</p>
<h2 id="hardware-readiness-checklist">Hardware readiness checklist<a class="headerlink" href="#hardware-readiness-checklist" title="Permanent link">&para;</a></h2>
<p>Before running the <code>hardware</code> test marker or the CLI against real backends:</p>
<ol>
<li>Export <code>QISKIT_IBM_TOKEN</code> (and optional instance overrides).</li>
<li>Ensure <code>qiskit-ibm-runtime</code> is installed (<code>pip install qiskit-ibm-runtime</code> or <code>pip install quartumse[mitigation]</code>).</li>
<li>Confirm remaining quota via <code>quartumse runtime-status</code>.</li>
<li>Schedule runs inside the free-tier 10 minute window.  See the
   <a href="../../ops/runtime_runbook/">IBM Runtime runbook</a> for quota guidance and
   webhook notifications.</li>
</ol>
<h2 id="troubleshooting-tips">Troubleshooting tips<a class="headerlink" href="#troubleshooting-tips" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Missing optional dependencies</strong> – install <code>quartumse[dev,mitigation]</code> to
  enable MEM notebooks and tests.</li>
<li><strong>Runtime quota errors</strong> – rerun on the Aer simulator or wait for the next
  monthly reset; manifests still capture simulated evidence.</li>
<li><strong>Inconsistent notebook output</strong> – clear previous artifacts under
  <code>notebook_data/</code> or supply a unique <code>data_dir</code> when instantiating
  <code>ShadowEstimator</code>.</li>
</ul>
<p>For a broader program view, pair this document with the updated
<a href="../../strategy/project_bible/">Project Bible</a> and
<a href="../../strategy/roadmap/">Roadmap</a>.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/QuartumSE/quartumse" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
